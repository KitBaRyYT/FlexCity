<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Flex City Bewerbungen</title>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    emailjs.init("CUfrvAoxqoIsZtPLK"); // Dein EmailJS User ID (Public Key)
  </script>
  <style>
    /* Dunkelmodus Design */
    body {
      background-color: #121212;
      color: #e0e0e0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 20px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .header-container {
      text-align: center;
      margin-bottom: 30px;
    }
    .header-container img {
      max-width: 180px;
      margin-top: 10px;
      filter: brightness(90%);
    }
    .section {
      max-width: 600px;
      margin: 0 auto 25px auto;
      text-align: center;
    }
    .section h2 {
      font-weight: 700;
      margin-bottom: 8px;
      color: #e0e0e0;
    }
    .section p {
      color: #bbb;
      user-select: none;
      margin-bottom: 20px;
    }
    .discord-button {
      display: inline-flex;
      align-items: center;
      background-color: #5865F2;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      text-decoration: none;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    .discord-button:hover {
      background-color: #4752c4;
    }
    .discord-button svg {
      width: 22px;
      height: 22px;
      margin-right: 8px;
      fill: white;
    }
    p {
      text-align: center;
      color: #bbb;
      user-select: none;
    }
    .btn-container {
      max-width: 600px;
      margin: 0 auto 40px auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .bereich-block {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .bereich-block button {
      width: 100%;
      background-color: #1f1f1f;
      color: #e0e0e0;
      border: 2px solid #333;
      padding: 14px 20px;
      font-size: 1.1rem;
      cursor: pointer;
      border-radius: 8px;
      text-align: left;
      transition: background-color 0.3s ease, border-color 0.3s ease;
      font-weight: 600;
    }
    .bereich-block button:hover {
      background-color: #333333;
      border-color: #666666;
    }
    .bereich-block p {
      margin-left: 12px;
      font-style: italic;
      color: #999999;
      user-select: none;
      max-width: 580px;
    }
    form#bewerbungsForm {
      max-width: 600px;
      margin: 0 auto;
      display: none;
      flex-direction: column;
      gap: 12px;
      background-color: #1f1f1f;
      padding: 25px 30px;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.7);
    }
    form#bewerbungsForm input,
    form#bewerbungsForm textarea {
      padding: 12px;
      font-size: 1rem;
      border: 1px solid #444;
      border-radius: 6px;
      width: 100%;
      box-sizing: border-box;
      resize: vertical;
      background-color: #2b2b2b;
      color: #e0e0e0;
      transition: border-color 0.3s;
    }
    form#bewerbungsForm input::placeholder,
    form#bewerbungsForm textarea::placeholder {
      color: #777;
    }
    form#bewerbungsForm input:focus,
    form#bewerbungsForm textarea:focus {
      outline: none;
      border-color: #4caf50;
      background-color: #333;
    }
    form#bewerbungsForm button[type="submit"] {
      background-color: #4caf50;
      color: #fff;
      border: none;
      font-size: 1.2rem;
      padding: 14px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-weight: 700;
    }
    form#bewerbungsForm button[type="submit"]:hover {
      background-color: #388e3c;
    }
    .submitted {
      max-width: 600px;
      margin: 30px auto;
      padding: 20px;
      background-color: #2b5329;
      border: 1px solid #4caf50;
      border-radius: 10px;
      color: #c3e6cb;
      box-shadow: 0 0 10px rgba(72, 183, 72, 0.7);
      user-select: none;
    }
  </style>
</head>
<body>
  <div class="header-container">
    <img src="FlexCityTrans.png" alt="Flex City Logo" />
  </div>

  <div class="section">
    <h2>Über uns</h2>
    <p>Wir sind ein Community orientierter Minecraft Server mit den verschiedensten Minigames. Gründer dieses Projekts ist KitBaRyYT. Außerdem ist Flex City offiziell verpartnert mit dem Discord Server Noctynix.</p>
  </div>

  <div class="section">
    <h2>Discord/Support</h2>
    <a href="https://discord.gg/44dJ3DHy4x" target="_blank" rel="noopener noreferrer" class="discord-button" aria-label="Zum Discord einladen">
      <svg viewBox="0 0 245 240" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true" focusable="false">
        <path d="M104.4 104.5c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.3-5 10.2-11.1 0-6.1-4.6-11.1-10.2-11.1zm36.1 0c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.3-5 10.2-11.1 0-6.1-4.6-11.1-10.2-11.1z"/>
        <path d="M189.5 20H55.5C32.5 20 16 36.7 16 59.5v121c0 22.7 16.5 39.5 39.5 39.5h89l-4.2-14.8 10.2 9.4 9.7 8.7 17.2 15.3V59.5c0-22.8-16.5-39.5-39.4-39.5zM98 144.5s-7.6-9-13.9-17.1c27.8-7.8 38.4-24.5 38.4-24.5-8.7 5.8-16.9 9.9-24.3 12.6-10.6 4.6-20.7 7.7-29.9 8.4-13.1 1.2-24.3-4-33.9-12.6-1.5-1.3-2.8-2.7-4-4.1-0.2-0.3-0.4-0.4-0.6-0.7-0.1-0.1-0.1-0.2-0.2-0.3-0.5-0.6-0.8-1-1-1.3-0.4-0.6-0.6-1-0.7-1.3-0.1-0.3-0.2-0.5-0.2-0.5-0.1-0.1-0.1-0.2-0.1-0.2s1.9 0.9 4 2.1c7.3 3.8 13.4 8.3 18.1 13.1 6.8 6.6 11.4 14.1 14.3 21.1 26.2-7.3 36.2-29.1 36.2-29.1-9.1 6-18.3 10.3-27 12.9-11.8 3.4-23 4.3-33 3.5-8.1-0.6-15-2.7-20.4-6.2-0.9-0.5-1.7-1-2.5-1.6-0.1-0.1-0.2-0.1-0.3-0.2-1.8-1.2-3-2-3-2s0.3 0.6 0.8 1.6c3.5 8.5 10.4 18.6 20.6 25.5 12 8.5 27.8 11.4 43.3 8.9 20.3-3.4 35.3-14 35.3-14z"/>
      </svg>
      Discord Server
    </a>
  </div>

  <div class="section">
    <h2>Bewerbung</h2>
    <p>Bitte wähle zunächst den Bereich aus, für den du dich bewerben möchtest. Nach Auswahl erscheint das Bewerbungsformular.</p>
  </div>

  <div class="btn-container">
    <div class="bereich-block">
      <button type="button" onclick="showForm('gaming')">Gaming</button>
      <p>Für alle Gamer und Streamer</p>
    </div>
    <div class="bereich-block">
      <button type="button" onclick="showForm('moderation')">Moderation</button>
      <p>Für Support und Moderation</p>
    </div>
    <div class="bereich-block">
      <button type="button" onclick="showForm('builder')">Builder</button>
      <p>Für den Aufbau von Maps</p>
    </div>
  </div>

  <form id="bewerbungsForm">
    <label for="name">Name (Ingame & Discord):</label>
    <input type="text" id="name" name="name" required placeholder="Dein Name" />

    <label for="alter">Alter:</label>
    <input type="number" id="alter" name="alter" required placeholder="Dein Alter" min="12" max="100" />

    <label for="discordid">Discord ID:</label>
    <input type="text" id="discordid" name="discordid" required placeholder="Deine Discord-ID" />

    <label for="bereich">Bewerbungsbereich:</label>
    <input type="text" id="bereich" name="bereich" readonly />

    <label for="motivation">Warum möchtest du dich bei uns bewerben?</label>
    <textarea id="motivation" name="motivation" rows="4" required placeholder="Motivation"></textarea>

    <label for="erfahrung">Hast du schon Erfahrung in dem Bereich?</label>
    <textarea id="erfahrung" name="erfahrung" rows="3" required placeholder="Deine Erfahrung"></textarea>

    <button type="submit">Bewerbung absenden</button>
  </form>

  <div id="successMessage" class="submitted" style="display:none;">
    Danke für deine Bewerbung! Wir melden uns so schnell wie möglich bei dir.
  </div>

  <script>
    function showForm(bereich) {
      const form = document.getElementById('bewerbungsForm');
      form.style.display = 'flex';
      document.getElementById('bereich').value = bereich.charAt(0).toUpperCase() + bereich.slice(1);
      window.scrollTo({ top: form.offsetTop, behavior: 'smooth' });
    }

    // Form Submission mit EmailJS
    document.getElementById('bewerbungsForm').addEventListener('submit', function(event) {
      event.preventDefault();

      // Validierung ist durch "required" Inputs bereits gegeben, kann hier erweitert werden

      // Daten aus Formular holen
      const templateParams = {
        name: this.name.value,
        alter: this.alter.value,
        discordid: this.discordid.value,
        bereich: this.bereich.value,
        motivation: this.motivation.value,
        erfahrung: this.erfahrung.value,
      };

      emailjs.send('service_kq26xjf', 'template_j023kum', templateParams)
        .then(() => {
          // Erfolg
          this.reset();
          this.style.display = 'none';
          document.getElementById('successMessage').style.display = 'block';
        }, (error) => {
          alert('Beim Absenden der Bewerbung ist ein Fehler aufgetreten. Bitte versuche es später erneut.');
          console.error('EmailJS Fehler:', error);
        });
    });
  </script>
</body>
</html>
